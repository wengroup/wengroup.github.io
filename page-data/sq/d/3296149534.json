{"data":{"allMarkdownRemark":{"nodes":[{"html":"<h1>Update (June 10, 2019)</h1>\n<p>We have implemented DRIP as a LAMMPS built-in model, and it is available since\nthe <code class=\"language-text\">5Jun19</code> version. Note</p>\n<ul>\n<li>It is in the <code class=\"language-text\">USER-MISC</code> package, so you need to add it when installing LAMMPS</li>\n<li>Examples at <code class=\"language-text\">lammps/examples/USER/misc/drip/</code> or you can find it\n<a href=\"https://github.com/lammps/lammps/tree/master/examples/USER/misc/drip\">here</a></li>\n<li>Google <code class=\"language-text\">lammps pair drip</code> to get documentation</li>\n</ul>\n<hr>\n<hr>\n<h1>Original post (March 10, 2019)</h1>\n<p>The <code class=\"language-text\">DRIP (Dihedral-angle-corrected registry-dependent interlayer potential)</code>\nprovides an improved description of the interlayer interactions for multilayer\ngraphene structures.\nSee <a href=\"https://doi.org/10.1103/physrevb.98.235404\">our paper</a> for more information\nabout it. We have implemented the <code class=\"language-text\">DRIP</code> as a KIM model.\nTo use it, follow the below instructions.</p>\n<h2>KIM-API</h2>\n<p>Follow <a href=\"https://openkim.org/kim-api/\">https://openkim.org/kim-api/</a> to install <code class=\"language-text\">kim-api-v2-2.0.0</code>.</p>\n<p>The instructions given there assume you have root access and install the API to\n<code class=\"language-text\">/usr/local</code>.\nIf you do not have root access or want to install to another directory, follow\n<code class=\"language-text\">INSTALL</code> in the <code class=\"language-text\">kim-api-v2-2.0.0</code> package.</p>\n<p>Note, if you chose not to install the <code class=\"language-text\">kim-api-v2-2.0.0</code> package in the standard\nlocation, you will need to get the kim-api library on <code class=\"language-text\">PATH</code> by doing some thing\nlike (assume you are using <code class=\"language-text\">Bash</code>):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">source</span> activate path/to/the/installed/kim-api/library/bin/kim-api-v2-activate</code></pre></div>\n<h2>DRIP driver and model</h2>\n<p>The <code class=\"language-text\">DRIP</code> driver and model can be obtained from my <a href=\"https://github.com/mjwen\">GitHub</a>.\nThe \"v2.0.0\" branch of both the driver and model is compatible with <code class=\"language-text\">kim-api-v2-2.0.0</code>.\nBelow is a quick way to install them.</p>\n<h3>install the driver</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> clone --branch v2.0.0 https://github.com/mjwen/DRIP_WenTadmor__MD_000000111111_000.git\n$ kim-api-v2-collections-management <span class=\"token function\">install</span> user ./DRIP_WenTadmor__MD_000000111111_000</code></pre></div>\n<h3>install the model</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> clone --branch v2.0.0 https://github.com/mjwen/DRIP_WenTadmor_2018_C__MO_000000111111_000.git\n$ kim-api-v2-collections-management <span class=\"token function\">install</span> user ./DRIP_WenTadmor_2018_C__MO_000000111111_000</code></pre></div>\n<p>To check that the driver and model are successfully installed, do:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ kim-api-v2-collections-management list</code></pre></div>\n<p>You should be able to see\n<code class=\"language-text\">DRIP_WenTadmor__MD_000000111111_000</code> and <code class=\"language-text\">DRIP_WenTadmor_2018_C__MO_000000111111_000</code>.\nin the <code class=\"language-text\">User Collection</code>.</p>\n<h2>LAMMPS (optional)</h2>\n<p>To use KIM with LAMMPS, you will need <code class=\"language-text\">pair_kim</code>.\nFor now please put <a href=\"https://mjwen.github.io/files/pair_kim.cpp\">pair_kim.cpp</a>\nand <a href=\"https://mjwen.github.io/files/pair_kim.h\">pair_kim.h</a> into your LAMMPS\n<code class=\"language-text\">src</code> directory (we have made pull request to LAMMPS and the next official\nrelease of LAMMPS will be compatible with KIM), and then make LAMMPS the usual\nway you do.</p>\n<p><code class=\"language-text\">pair_kim</code> now only supports <code class=\"language-text\">atom_style atomic</code>, so please use it in your\nLAMMPS input script.\n<code class=\"language-text\">DRIP</code> only provides the interlayer interactions, so if you want to use it\ntogether with a potential that provides the intralayer interaction (<code class=\"language-text\">REBO</code> for\nexample), you can use the <code class=\"language-text\">hybrid/overlay</code> pair style and put in the LAMMPS\nscript the following lines:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pair_style   hybrid/overlay kim DRIP_WenTadmor_2018_C__MO_000000111111_000 rebo\npair_coeff   * * kim C\npair_coeff   * * rebo CH.airebo C</code></pre></div>\n<p>Note, we implement the <code class=\"language-text\">DRIP</code> potential in KIM using a different approach from\nthe <code class=\"language-text\">KC</code> potential in LAMMPS.\nIn the KIM implementation of <code class=\"language-text\">DRIP</code>, we have a method to separate the simulation\nconfiguration into layers automatically.\nSo there is no need to assign atoms into different molecules as the LAMMPS <code class=\"language-text\">KC</code>\nimplementation.</p>","headings":[{"depth":1,"value":"Update (June 10, 2019)"},{"depth":1,"value":"Original post (March 10, 2019)"},{"depth":2,"value":"KIM-API"},{"depth":2,"value":"DRIP driver and model"},{"depth":3,"value":"install the driver"},{"depth":3,"value":"install the model"},{"depth":2,"value":"LAMMPS (optional)"}],"frontmatter":{"title":"Use the DRIP potential","slug":"use-drip-potential","date":"March 10th, 2019","stack":["DRIP","Potential"]}},{"html":"<h1>Create a potential</h1>\n<p>This is an answer I prepared for the below Matter Modeling questions:</p>\n<ul>\n<li><a href=\"https://mattermodeling.stackexchange.com/questions/8932/what-are-the-open-source-or-software-code-that-can-generate-potentials\">What are the open source or software code that can generate potentials?</a></li>\n<li><a href=\"https://mattermodeling.stackexchange.com/questions/8868/are-there-any-open-source-codes-that-can-generate-lammps-potentials-from-dft-cal\">Are there any open source codes that can generate LAMMPS potentials from DFT calculations?</a></li>\n</ul>\n<p>But unfortunately, I do not have the privilege to provide an answer with more than 10 links. So, here it is.</p>\n<hr>\n<p>There are different flavors of interatomic potentials, from the classical Lennard-Jones and Morse models to more recent machine learning models. I will limit the answer to reactive potential models without considering bonded force fields.</p>\n<h2>Check existing potentials repository</h2>\n<p>Before fitting a new model, first try searching the repositories</p>\n<ul>\n<li>OpenKIM (<a href=\"https://openkim.org\">https://openkim.org</a>)</li>\n<li>NIST (<a href=\"https://www.ctcms.nist.gov/potentials/\">https://www.ctcms.nist.gov/potentials/</a>)</li>\n</ul>\n<p>to see whether you can find one that satisfies your needs.\nVia the KIM API (<a href=\"https://openkim.org/kim-api\">https://openkim.org/kim-api</a>), models archived on OpenKIM can be used in various molecular simulation codes, such as LAMMPS, ASE, DL_POLY, GULP, and ASAP. OpenKIM also provides analysis of each model (e.g. citation analysis and tests on canonical properties like cohesive energy and elastic constant), which may help you to decide whether a model satisfies your need. For an example, see <a href=\"https://openkim.org/id/EAM_Dynamo_Ackland_1992_Ti__MO_748534961139_005\">https://openkim.org/id/EAM_Dynamo_Ackland_1992_Ti__MO_748534961139_005</a>.</p>\n<h2>Build new potentials</h2>\n<p>If none satisfies the need, there are basically three steps to create a new model.</p>\n<h3>Assemble a dataset</h3>\n<p>Traditionally, potentials are fit to reproduce a set of experimental properties, but nowadays most potentials are fit to more easily obtainable properties from quantum mechanical calculations.</p>\n<p>Here are some DFT codes that can be used to generate a dataset of energy, forces, and stress for training the model.</p>\n<ul>\n<li>Quantum Espresso (open source) <a href=\"https://www.quantum-espresso.org\">https://www.quantum-espresso.org</a></li>\n<li>VASP (commercial) <a href=\"https://www.vasp.at\">https://www.vasp.at</a></li>\n<li>ABINIT (open source) <a href=\"https://www.abinit.org\">https://www.abinit.org</a></li>\n<li>SIESTA (open source) <a href=\"https://departments.icmab.es/leem/siesta/\">https://departments.icmab.es/leem/siesta/</a></li>\n<li>CP2K (open source) <a href=\"https://www.cp2k.org\">https://www.cp2k.org</a></li>\n</ul>\n<p>If you do not want to generate a dataset by yourself, some computational materials databases may have DFT data that can be used for fitting a potential, such as</p>\n<ul>\n<li>The Materials Project <a href=\"https://materialsproject.org\">https://materialsproject.org</a></li>\n<li>AFLOW <a href=\"http://www.aflowlib.org\">http://www.aflowlib.org</a></li>\n<li>OQMD <a href=\"https://oqmd.org\">https://oqmd.org</a></li>\n<li>NOMAD <a href=\"https://nomad-lab.eu\">https://nomad-lab.eu</a></li>\n<li>JARVIS <a href=\"https://jarvis.nist.gov\">https://jarvis.nist.gov</a></li>\n</ul>\n<h3>Train the model</h3>\n<p>Given a dataset, many open-source codes can be used to fit a potential. Below are some widely used ones, and I categorize them into codes that build physics-based models (e.g. Tersoff) or build machine learning models (e.g. neural network).</p>\n<h4>Physics based</h4>\n<ul>\n<li>potfit <a href=\"https://www.potfit.net/wiki/doku.php\">https://www.potfit.net/wiki/doku.php</a></li>\n<li>KLIFF <a href=\"https://github.com/openkim/kliff\">https://github.com/openkim/kliff</a></li>\n<li>atomicrex <a href=\"https://www.atomicrex.org\">https://www.atomicrex.org</a></li>\n</ul>\n<h4>Machine learning</h4>\n<ul>\n<li>KLIFF (general purpose) <a href=\"https://github.com/openkim/kliff\">https://github.com/openkim/kliff</a></li>\n<li>MAML (general purpose) <a href=\"https://github.com/materialsvirtuallab/maml\">https://github.com/materialsvirtuallab/maml</a></li>\n<li>GAP (Gaussian approximation potential) <a href=\"https://libatoms.github.io\">https://libatoms.github.io</a></li>\n<li>MTP (Moment tensor potential) <a href=\"https://mlip.skoltech.ru\">https://mlip.skoltech.ru</a></li>\n<li>SNAP (Spectral neighbor analysis potential) <a href=\"https://github.com/FitSNAP/FitSNAP\">https://github.com/FitSNAP/FitSNAP</a></li>\n<li>PANNA (Behler--Parrinello type neural network) <a href=\"https://gitlab.com/PANNAdevs/panna\">https://gitlab.com/PANNAdevs/panna</a></li>\n<li>AMP (Behler--Parrinello type neural network) <a href=\"https://bitbucket.org/andrewpeterson/amp\">https://bitbucket.org/andrewpeterson/amp</a></li>\n<li>aenet (Behler--Parrinello type neural network) <a href=\"http://ann.atomistic.net\">http://ann.atomistic.net</a></li>\n<li>DeePMD <a href=\"https://github.com/deepmodeling/deepmd-kit\">https://github.com/deepmodeling/deepmd-kit</a></li>\n<li>SchNet (graph neural network) <a href=\"https://github.com/atomistic-machine-learning/schnetpack\">https://github.com/atomistic-machine-learning/schnetpack</a></li>\n<li>NequIP (equivariant graph neural network) <a href=\"https://github.com/mir-group/nequip\">https://github.com/mir-group/nequip</a></li>\n</ul>\n<h3>Deploy the model</h3>\n<p>Most of the fitting codes listed above do have an interface to either LAMMPS or ASE, or both. So deploying the fitted model for simulation is typically not a problem. PANNA, potfit, and KLIFF have interfaces to the KIM API, and potentials created with them can be used in multiple simulation codes.</p>","headings":[{"depth":1,"value":"Create a potential"},{"depth":2,"value":"Check existing potentials repository"},{"depth":2,"value":"Build new potentials"},{"depth":3,"value":"Assemble a dataset"},{"depth":3,"value":"Train the model"},{"depth":4,"value":"Physics based"},{"depth":4,"value":"Machine learning"},{"depth":3,"value":"Deploy the model"}],"frontmatter":{"title":"Develop a new potential","slug":"fit-new-potential","date":"April 19th, 2022","stack":["Interatomic potentials","Fitting","Machine learning","KLIFF","LAMMPS","KIM API","OpenKIM"]}}]}}}